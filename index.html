<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Be My Valentine ğŸ’–</title>

<style>
body {
  margin: 0;
  font-family: Arial, sans-serif;
  background: linear-gradient(135deg, #ff9a9e, #fecfef);
  min-height: 100svh;
  display: flex;
  justify-content: center;
  align-items: center;
  flex-direction: column;
  text-align: center;
  padding: 20px;
  box-sizing: border-box;
  overflow: hidden;
  color: white;
  transition: background 1s ease;
}

.hidden { display: none; }

h1 {
  font-size: 1.8em;
  margin-bottom: 20px;
  animation: fadeIn 1.5s ease forwards;
}

input {
  padding: 12px 20px;
  border-radius: 25px;
  border: none;
  font-size: 16px;
  margin-bottom: 15px;
  text-align: center;
}

button {
  padding: 15px 30px;
  font-size: 18px;
  border: none;
  border-radius: 30px;
  cursor: pointer;
  margin: 10px;
  transition: all 0.25s ease;
}

#startBtn, #yesBtn {
  background-color: #ff4d6d;
  color: white;
}

#noBtn {
  background-color: white;
  color: #ff4d6d;
  position: fixed;
  left: 50%;
  top: 70%;
  transform: translate(-50%, -50%);
}

#counter {
  margin-top: 15px;
}

#hearts {
  position: fixed;
  top: 0;
  left: 0;
  pointer-events: none;
}

@keyframes fadeIn {
  from {opacity: 0;}
  to {opacity: 1;}
}

.glow {
  animation: glowEffect 1s infinite alternate;
}

@keyframes glowEffect {
  from { text-shadow: 0 0 10px #fff; }
  to { text-shadow: 0 0 30px #fff; }
}
</style>
</head>

<body>

<div id="startScreen">
  <h1>Before we continueâ€¦ who is this special lady? ğŸ’•</h1>
  <input type="text" id="nameInput" placeholder="Your lovely name...">
  <br>
  <button id="startBtn">Begin âœ¨</button>
</div>

<div id="loadingScreen" class="hidden">
  <h1 id="loadingText">Checking compatibility...</h1>
</div>

<div id="gameScreen" class="hidden">
  <h1 id="question"></h1>
  <button id="yesBtn">YES ğŸ’•</button>
  <button id="noBtn">NO ğŸ™ˆ</button>
  <div id="counter"></div>
</div>

<canvas id="hearts"></canvas>

<audio id="bgMusic" loop>
  <source src="bensound-romantic.mp3" type="audio/mpeg">
</audio>

<script>
const startBtn = document.getElementById("startBtn");
const startScreen = document.getElementById("startScreen");
const loadingScreen = document.getElementById("loadingScreen");
const gameScreen = document.getElementById("gameScreen");
const music = document.getElementById("bgMusic");

startBtn.addEventListener("click", () => {
  const name = document.getElementById("nameInput").value.trim();
  if (!name) return alert("Isi dulu dong ğŸ˜");

  music.volume = 0.5;
  music.play();

  startScreen.classList.add("hidden");
  loadingScreen.classList.remove("hidden");

  setTimeout(() => {
    document.getElementById("loadingText").innerText =
      "Calculating love percentage... ğŸ’˜";
  }, 1500);

  setTimeout(() => {
    document.getElementById("loadingText").innerText =
      "99.99% MATCH ğŸ’–";
  }, 3000);

  setTimeout(() => {
    loadingScreen.classList.add("hidden");
    gameScreen.classList.remove("hidden");
    document.getElementById("question").innerText =
      `Will you be my Valentine, ${name}? ğŸ’–`;
    initGame(name);
    startHearts();
  }, 4500);
});

function initGame(name) {
  const noBtn = document.getElementById("noBtn");
  const yesBtn = document.getElementById("yesBtn");
  const counter = document.getElementById("counter");

  let noCount = 0;
  let yesScale = 1;

  function moveButton(e) {
    e.preventDefault();
    noBtn.style.left = Math.random() * (window.innerWidth - 100) + "px";
    noBtn.style.top = Math.random() * (window.innerHeight - 50) + "px";

    noCount++;
    yesScale += 0.15;
    yesBtn.style.transform = `scale(${yesScale})`;

    if (noCount < 3) {
      counter.innerHTML = "Masa sih nggak mau ğŸ˜";
    } else {
      counter.innerHTML = `Ayooo ${name} ğŸ˜­ğŸ’˜`;
    }
  }

  noBtn.addEventListener("mouseenter", moveButton);
  noBtn.addEventListener("touchstart", moveButton);

  yesBtn.addEventListener("click", () => {
    music.volume = 0.8;
    document.body.style.background =
      "linear-gradient(135deg, #ff4d6d, #ff99ac)";
    document.getElementById("question").classList.add("glow");

    gameScreen.innerHTML = `
      <h1 class="glow">YAYYY ğŸ’–ğŸ’–ğŸ’–</h1>
      <p style="font-size:22px;">
        You just made my day, ${name} ğŸ˜<br><br>
        Best Valentine ever ğŸ’•
      </p>
    `;
  });
}

function startHearts() {
  const canvas = document.getElementById("hearts");
  const ctx = canvas.getContext("2d");
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;

  let hearts = [];

  for (let i = 0; i < 50; i++) {
    hearts.push({
      x: Math.random() * canvas.width,
      y: Math.random() * canvas.height,
      size: Math.random() * 5 + 2,
      speed: Math.random() + 0.5
    });
  }

  function draw() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    ctx.fillStyle = "white";
    hearts.forEach(h => {
      ctx.beginPath();
      ctx.arc(h.x, h.y, h.size, 0, Math.PI * 2);
      ctx.fill();
    });
  }

  function update() {
    hearts.forEach(h => {
      h.y -= h.speed;
      if (h.y < 0) h.y = canvas.height;
    });
  }

  function loop() {
    draw();
    update();
    requestAnimationFrame(loop);
  }

  loop();
}
</script>

</body>
</html>

